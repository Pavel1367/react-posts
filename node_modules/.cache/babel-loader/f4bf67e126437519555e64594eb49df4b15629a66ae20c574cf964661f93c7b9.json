{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/888/Desktop/ulbireact/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/888/Desktop/ulbireact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/888/Desktop/ulbireact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{useFetching}from\"../hooks/useFetching\";import PostService from\"../API/PostService\";import Loader from\"../components/UI/loader/Loader\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function PostPage(){var params=useParams();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),comments=_useState4[0],setComments=_useState4[1];var _useFetching=useFetching(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return PostService.getById(params.id);case 2:response=_context.sent;setPost(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}))),_useFetching2=_slicedToArray(_useFetching,3),fetchPostById=_useFetching2[0],isLoading=_useFetching2[1],error=_useFetching2[2];var _useFetching3=useFetching(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return PostService.getCommentsById(params.id);case 2:response=_context2.sent;setComments(response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}))),_useFetching4=_slicedToArray(_useFetching3,3),fetchComments=_useFetching4[0],isComLoading=_useFetching4[1],comError=_useFetching4[2];useEffect(function(){fetchPostById(params.id);fetchComments(params.id);},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"You have opened post with ID = \",params.id]}),isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(\"div\",{children:[post.id,post.title]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Comments\"}),isComLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(\"div\",{children:comments.map(function(c){return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:15},children:[/*#__PURE__*/_jsx(\"h5\",{children:c.email}),/*#__PURE__*/_jsx(\"div\",{children:c.body})]});})})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","useFetching","PostService","Loader","PostPage","params","post","setPost","comments","setComments","getById","id","response","data","fetchPostById","isLoading","error","getCommentsById","fetchComments","isComLoading","comError","title","map","c","marginTop","email","body"],"sources":["C:/Users/888/Desktop/ulbireact/src/pages/PostPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useFetching } from \"../hooks/useFetching\";\r\nimport PostService from \"../API/PostService\";\r\nimport Loader from \"../components/UI/loader/Loader\";\r\n\r\nexport default function PostPage() {\r\n  const params = useParams();\r\n  const [post, setPost] = useState({});\r\n  const [comments, setComments] = useState([])\r\n  const [fetchPostById, isLoading, error] = useFetching(async () => {\r\n    const response = await PostService.getById(params.id);\r\n    setPost(response.data);\r\n  });\r\n\r\n  const [fetchComments, isComLoading, comError] = useFetching(async () => {\r\n    const response = await PostService.getCommentsById(params.id);\r\n    setComments(response.data);\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchPostById(params.id);\r\n    fetchComments(params.id)\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <h1>You have opened post with ID = {params.id}</h1>\r\n      {isLoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <div>\r\n          {post.id}\r\n          {post.title}\r\n        </div>\r\n      )}\r\n      <h1>Comments</h1>\r\n      {isComLoading ? <Loader/> :<div>\r\n        {comments.map(c => <div style={{marginTop: 15}}><h5>{c.email}</h5><div>{c.body}</div></div>)}\r\n      </div> }\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"4WAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,WAAW,KAAQ,sBAAsB,CAClD,MAAOC,YAAW,KAAM,oBAAoB,CAC5C,MAAOC,OAAM,KAAM,gCAAgC,CAAC,wFAEpD,cAAe,SAASC,SAAQ,EAAG,CACjC,GAAMC,OAAM,CAAGL,SAAS,EAAE,CAC1B,cAAwBD,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAA7BO,IAAI,eAAEC,OAAO,eACpB,eAAgCR,QAAQ,CAAC,EAAE,CAAC,yCAArCS,QAAQ,eAAEC,WAAW,eAC5B,iBAA0CR,WAAW,wEAAC,wKAC7BC,YAAW,CAACQ,OAAO,CAACL,MAAM,CAACM,EAAE,CAAC,QAA/CC,QAAQ,eACdL,OAAO,CAACK,QAAQ,CAACC,IAAI,CAAC,CAAC,sDACxB,GAAC,8CAHKC,aAAa,kBAAEC,SAAS,kBAAEC,KAAK,kBAKtC,kBAAgDf,WAAW,wEAAC,8KACnCC,YAAW,CAACe,eAAe,CAACZ,MAAM,CAACM,EAAE,CAAC,QAAvDC,QAAQ,gBACdH,WAAW,CAACG,QAAQ,CAACC,IAAI,CAAC,CAAC,wDAC5B,GAAC,+CAHKK,aAAa,kBAAEC,YAAY,kBAAEC,QAAQ,kBAK5CtB,SAAS,CAAC,UAAM,CACdgB,aAAa,CAACT,MAAM,CAACM,EAAE,CAAC,CACxBO,aAAa,CAACb,MAAM,CAACM,EAAE,CAAC,CAC1B,CAAC,CAAE,EAAE,CAAC,CACN,mBACE,oCACE,wDAAoCN,MAAM,CAACM,EAAE,GAAM,CAClDI,SAAS,cACR,KAAC,MAAM,IAAG,cAEV,uBACGT,IAAI,CAACK,EAAE,CACPL,IAAI,CAACe,KAAK,GAEd,cACD,gCAAiB,CAChBF,YAAY,cAAG,KAAC,MAAM,IAAE,cAAE,qBACxBX,QAAQ,CAACc,GAAG,CAAC,SAAAC,CAAC,qBAAI,aAAK,KAAK,CAAE,CAACC,SAAS,CAAE,EAAE,CAAE,wBAAC,oBAAKD,CAAC,CAACE,KAAK,EAAM,mCAAMF,CAAC,CAACG,IAAI,EAAO,GAAM,GAAC,EACxF,GACF,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}